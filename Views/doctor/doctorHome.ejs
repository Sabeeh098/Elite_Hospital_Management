<div class="content">
    <div class="page-header">
      <div class="page-title">
        <h4>Patients</h4>
        <h6>Manage your Patients</h6>
      </div>
     
    </div>
  
  
   <!-- /product list -->
  <div class="card">
    <div class="card-body">
      <div class="table-responsive">
        <table class="table datanew">
          <thead>
            <tr>
              <th>S. No</th>
              <th>Patient Photo</th>
              <th>Patient Name</th>
              <th>Date of Birth</th>
              <th>Admit Date</th>
              <th>OT Date</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <% patients.forEach((patient, index) => { %>
              <tr>
                <td><%= index + 1 %></td>
                <td>
                  <img src="assets/barcode/<%= patient.patientPhoto %>" alt="Patient Photo" style="width: 30px; height: auto;">
  
                </td>
                <td><%= patient.patientName %></td>
                <td><%= patient.dateOfbirth?.toDateString() %></td>
                <td><%= patient.admitDate?.toDateString() %></td>
                <td><%= patient.otDate?.toDateString() %></td>
                <td>
                <a class="me-3" href="/doctor-prescription?patientId=<%= patient._id %>">
                  <img src="assets/img/icons/edit.svg" alt="Edit Patient" />
                </a>
                </td>
              </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
  </div>
  <!-- <script>
  document.addEventListener('DOMContentLoaded', function () {
    const viewPatientLinks = document.querySelectorAll('.view-patient');
  
    viewPatientLinks.forEach(function (link) {
      link.addEventListener('click', function () {
        const patientId = link.getAttribute('data-patient-id');
        fetch(/get-patient-details/${patientId})
          .then(response => response.json())
          .then(data => {
            window.location.href = /patient-details?patientId=${patientId};
          })
          .catch(error => console.error('Error:', error));
      });
    });
  });
  
  </script> -->